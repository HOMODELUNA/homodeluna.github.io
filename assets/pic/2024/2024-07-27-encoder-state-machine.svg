<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.30.1 (20201013.1554)
 -->
<!-- Title: encoder_state_machine Pages: 1 -->
<svg width="1247pt" height="672pt"
 viewBox="0.00 0.00 1247.32 672.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 668)">
<title>encoder_state_machine</title>
<polygon fill="white" stroke="white" points="-4,5 -4,-668 1244.32,-668 1244.32,5 -4,5"/>
<!-- Encoding -->
<g id="node1" class="node"><title>Encoding</title>
<ellipse fill="none" stroke="black" cx="548.317" cy="-616" rx="44.2863" ry="44.3766"/>
<ellipse fill="none" stroke="black" cx="548.317" cy="-616" rx="48.2945" ry="48.393"/>
<text text-anchor="middle" x="548.317" y="-612.3" font-family="Times,serif" font-size="14.00">Encoding</text>
</g>
<!-- Drain -->
<g id="node4" class="node"><title>Drain</title>
<ellipse fill="none" stroke="black" cx="671.317" cy="-485" rx="30.3206" ry="30.5947"/>
<text text-anchor="middle" x="671.317" y="-481.3" font-family="Times,serif" font-size="14.00">Drain</text>
</g>
<!-- Encoding&#45;&gt;Drain -->
<g id="edge3" class="edge"><title>Encoding&#45;&gt;Drain</title>
<path fill="none" stroke="black" d="M581.279,-580.43C600.754,-560.006 625.134,-534.436 643.611,-515.057"/>
<polygon fill="black" stroke="black" points="646.265,-517.347 650.632,-507.694 641.198,-512.516 646.265,-517.347"/>
<text text-anchor="middle" x="697.317" y="-538.3" font-family="Times,serif" font-size="14.00">V4L2_ENC_CMD_STOP</text>
</g>
<!-- Reset -->
<g id="node5" class="node"><title>Reset</title>
<ellipse fill="none" stroke="black" cx="666.317" cy="-195" rx="30.3206" ry="30.5947"/>
<text text-anchor="middle" x="666.317" y="-191.3" font-family="Times,serif" font-size="14.00">Reset</text>
</g>
<!-- Encoding&#45;&gt;Reset -->
<g id="edge4" class="edge"><title>Encoding&#45;&gt;Reset</title>
<path fill="none" stroke="black" d="M500.267,-611.81C348.346,-599.892 -104.268,-549.352 22.3173,-376 95.5662,-275.689 496.317,-217.309 625.889,-200.848"/>
<polygon fill="black" stroke="black" points="626.674,-204.277 636.161,-199.559 625.803,-197.332 626.674,-204.277"/>
<text text-anchor="middle" x="124.817" y="-402.3" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(CAPTURE)</text>
</g>
<!-- Stopped -->
<g id="node3" class="node"><title>Stopped</title>
<ellipse fill="none" stroke="black" cx="437.317" cy="-318" rx="39.4691" ry="39.7935"/>
<text text-anchor="middle" x="437.317" y="-314.3" font-family="Times,serif" font-size="14.00">Stopped</text>
</g>
<!-- Encoding&#45;&gt;Stopped -->
<g id="edge5" class="edge"><title>Encoding&#45;&gt;Stopped</title>
<path fill="none" stroke="black" d="M506.692,-591.705C480.588,-574.54 449.163,-548.555 434.317,-516 412.684,-468.56 417.876,-407.77 425.619,-366.347"/>
<polygon fill="black" stroke="black" points="429.057,-367.005 427.573,-356.515 422.191,-365.641 429.057,-367.005"/>
<text text-anchor="middle" x="532.817" y="-481.3" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(OUTPUT)</text>
</g>
<!-- Encoding&#45;&gt;Encoding -->
<g id="edge6" class="edge"><title>Encoding&#45;&gt;Encoding</title>
<path fill="none" stroke="black" d="M594.579,-629.658C605.895,-628.646 614.317,-624.094 614.317,-616 614.317,-610.562 610.516,-606.722 604.588,-604.481"/>
<polygon fill="black" stroke="black" points="605.089,-601.01 594.579,-602.342 603.626,-607.855 605.089,-601.01"/>
</g>
<!-- Initialization -->
<g id="node2" class="node"><title>Initialization</title>
<ellipse fill="none" stroke="black" cx="1113.32" cy="-56" rx="55.3436" ry="55.7903"/>
<text text-anchor="middle" x="1113.32" y="-52.3" font-family="Times,serif" font-size="14.00">Initialization</text>
</g>
<!-- Initialization&#45;&gt;Encoding -->
<g id="edge2" class="edge"><title>Initialization&#45;&gt;Encoding</title>
<path fill="none" stroke="black" d="M1113.32,-111.996C1113.32,-137.016 1113.32,-167.004 1113.32,-194 1113.32,-486 1113.32,-486 1113.32,-486 1113.32,-589.169 750.735,-609.828 606.489,-613.964"/>
<polygon fill="black" stroke="black" points="606.391,-610.466 596.489,-614.235 606.58,-617.463 606.391,-610.466"/>
<text text-anchor="middle" x="1176.32" y="-314.3" font-family="Times,serif" font-size="14.00">Both queues streaming</text>
</g>
<!-- Stopped&#45;&gt;Encoding -->
<g id="edge11" class="edge"><title>Stopped&#45;&gt;Encoding</title>
<path fill="none" stroke="black" d="M400.62,-332.298C325.255,-361.641 164.912,-435.732 224.317,-516 256.175,-559.046 406.646,-590.945 490.868,-605.774"/>
<polygon fill="black" stroke="black" points="490.347,-609.236 500.798,-607.498 491.544,-602.339 490.347,-609.236"/>
<text text-anchor="middle" x="320.317" y="-496.3" font-family="Times,serif" font-size="14.00">V4L2_ENC_CMD_START</text>
<text text-anchor="middle" x="320.317" y="-481.3" font-family="Times,serif" font-size="14.00">or</text>
<text text-anchor="middle" x="320.317" y="-466.3" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMON(OUTPUT)</text>
</g>
<!-- Stopped&#45;&gt;Reset -->
<g id="edge12" class="edge"><title>Stopped&#45;&gt;Reset</title>
<path fill="none" stroke="black" d="M434.324,-278.428C435.354,-266.067 438.813,-253.21 447.317,-244 471.057,-218.29 569.488,-205.016 625.976,-199.393"/>
<polygon fill="black" stroke="black" points="626.388,-202.869 636.008,-198.43 625.72,-195.901 626.388,-202.869"/>
<text text-anchor="middle" x="549.817" y="-248.3" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(CAPTURE)</text>
</g>
<!-- Drain&#45;&gt;Stopped -->
<g id="edge7" class="edge"><title>Drain&#45;&gt;Stopped</title>
<path fill="none" stroke="black" d="M647.715,-465.21C641.126,-460.841 633.733,-456.687 626.317,-454 591.225,-441.282 486.726,-461.338 459.317,-436 449.247,-426.691 443.706,-395.594 440.703,-367.799"/>
<polygon fill="black" stroke="black" points="444.177,-367.361 439.709,-357.755 437.211,-368.051 444.177,-367.361"/>
<text text-anchor="middle" x="557.817" y="-424.8" font-family="Times,serif" font-size="14.00">All CAPTURE</text>
<text text-anchor="middle" x="557.817" y="-409.8" font-family="Times,serif" font-size="14.00">buffers dequeued</text>
<text text-anchor="middle" x="557.817" y="-394.8" font-family="Times,serif" font-size="14.00">or</text>
<text text-anchor="middle" x="557.817" y="-379.8" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(OUTPUT)</text>
</g>
<!-- Drain&#45;&gt;Reset -->
<g id="edge8" class="edge"><title>Drain&#45;&gt;Reset</title>
<path fill="none" stroke="black" d="M670.801,-454.264C669.897,-402.174 668.026,-294.413 667.01,-235.902"/>
<polygon fill="black" stroke="black" points="670.504,-235.512 666.831,-225.575 663.505,-235.634 670.504,-235.512"/>
<text text-anchor="middle" x="771.817" y="-314.3" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMOFF(CAPTURE)</text>
</g>
<!-- Reset&#45;&gt;Encoding -->
<g id="edge9" class="edge"><title>Reset&#45;&gt;Encoding</title>
<path fill="none" stroke="black" d="M696.668,-197.528C744.71,-201.774 837.043,-217.781 878.317,-278 898.419,-307.328 887.121,-323.552 878.317,-358 854.234,-452.231 849.201,-489.162 773.317,-550 725.338,-588.466 655.518,-604.169 606.41,-610.578"/>
<polygon fill="black" stroke="black" points="605.766,-607.131 596.26,-611.81 606.609,-614.08 605.766,-607.131"/>
<text text-anchor="middle" x="972.817" y="-402.3" font-family="Times,serif" font-size="14.00">VIDIOC_STREAMON(CAPTURE)</text>
</g>
<!-- Reset&#45;&gt;Initialization -->
<g id="edge10" class="edge"><title>Reset&#45;&gt;Initialization</title>
<path fill="none" stroke="black" d="M695.302,-185.117C766.751,-163.218 952.62,-106.252 1050.67,-76.2018"/>
<polygon fill="black" stroke="black" points="1051.91,-79.4802 1060.45,-73.2035 1049.86,-72.7875 1051.91,-79.4802"/>
<text text-anchor="middle" x="957.817" y="-134.3" font-family="Times,serif" font-size="14.00">VIDIOC_REQBUFS(OUTPUT, 0)</text>
</g>
<!-- qi -->
<g id="node6" class="node"><title>qi</title>
<ellipse fill="black" stroke="black" cx="1146.32" cy="-195" rx="1.8" ry="1.8"/>
</g>
<!-- qi&#45;&gt;Initialization -->
<g id="edge1" class="edge"><title>qi&#45;&gt;Initialization</title>
<path fill="none" stroke="black" d="M1146.11,-193.125C1144.7,-187.281 1136.47,-153.135 1128.61,-120.508"/>
<polygon fill="black" stroke="black" points="1131.94,-119.367 1126.2,-110.464 1125.13,-121.006 1131.94,-119.367"/>
<text text-anchor="middle" x="1152.32" y="-134.3" font-family="Times,serif" font-size="14.00">open()</text>
</g>
</g>
</svg>
